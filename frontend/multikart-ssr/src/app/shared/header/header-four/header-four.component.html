<!-- header start -->
<header class="sticky" [ngClass]="class">
    <div class="mobile-fix-option"></div>
    <div class="top-header" *ngIf="topbar">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="header-contact">
                        <ul>
                            <li>{{'topbar-title' | translate}}</li>
<!--                            <li><i class="fa fa-phone" aria-hidden="true"></i>{{'call-us' | translate}}: 0886991516</li>-->
                        </ul>
                    </div>
                </div>
                <div class="col-lg-6 text-right">
                    <ul class="header-dropdown">
                        <li class="compare">
                            <a [routerLink]="['/shop/compare']"><i class="fa fa-random"
                                                                   aria-hidden="true"></i>{{'compare' | translate}}</a>
                        </li>
                        <li class="mobile-wishlist">
                            <a [routerLink]="['/shop/wishlist']"><i class="fa fa-heart" aria-hidden="true"></i>{{"wishlist" | translate}}</a>
                        </li>

                        <div *ngIf="auth.user$ | async; then authenticated else guest">
                            <!-- template will replace this div -->
                        </div>
                        <ng-template #guest>
                            <li>
                                <a (click)="auth.googleSignin()">
                                    Login <i  class="fa fa-google"></i>
                                </a>

                            </li>

                        </ng-template>

                        <ng-template #authenticated>

                            <li *ngIf="auth.user$ | async as user" class="onhover-dropdown mobile-account">
                                <i class="fa fa-user" aria-hidden="true"></i> {{"my-account" | translate}}
                                <ul class="onhover-show-div">

                                    <li>
                                        <a (click)="auth.signOut()">{{"logout" | translate}}</a>
                                    </li>
                                    <li *ngIf="user.admin">
                                        <a href="/shop/product/set">Create product</a>
                                    </li>
                                    <li>
                                        <a href="/orders"></a>
                                    </li>
                                </ul>
                            </li>

                        </ng-template>

                    </ul>

                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="main-menu border-section border-top-0">
                    <div class="brand-logo layout2-logo">
                        <a [routerLink]="['/home/fashion']">
                            <img [src]="themeLogo" class="img-fluid" alt="logo">
                        </a>
                    </div>
                    <div>
<!--                        <form class="form_search" role="form">-->
<!--                            <input id="query search-autocomplete" type="search"  placeholder="Find the best for your..." class="nav-search nav-search-field" aria-expanded="true">-->
<!--                            <button type="button" name="nav-submit-button" class="btn-search">-->
<!--                                <i class="ti-search"></i>-->
<!--                            </button>-->
<!--                        </form>-->
                        <ais-instantsearch
                                [config]="{
                                    apiKey: '31130c5b2e8e59feb112a1be559f9c27',
                                    appId: 'D8SHSLF83H',
                                    indexName: 'products',
                                    routing: true
                                  }">

                            <ais-search-box></ais-search-box>
                            <ais-hits>
                                <ng-template let-hits="hits" let-results="results">
                                    <div *ngIf="hits.length === 0">
                                        No results found matching <strong>{{results.query}}</strong>.
                                    </div>

                                    <div *ngIf="results.query">
                                        <div *ngFor="let hit of hits" class="content" >
<!--                                            TODO: show products better-->
                                            <a [href]="'/shop/' + hit.id">
<!--                                                <img [src]="hit.urls[0]">-->
                                                <section>

                                                    <app-product-preview [product]="hit"></app-product-preview>
<!--                                                    <img [src]="hit.urls[0]" style="max-width: 200px; max-height: 200px;">-->
<!--                                                    <h3>{{hit.name}} {{hit.price}}</h3>-->
                                                    <ais-highlight attribute="bio" [hit]="hit">
                                                    </ais-highlight>
                                                </section>
                                            </a>
                                        </div>
                                    </div>
                                </ng-template>
                            </ais-hits>
                        </ais-instantsearch>
                    </div>
                    <div class="menu-right pull-right">
                        <app-settings></app-settings>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row ">
            <div class="col-lg-12">
                <div class="main-nav-center">
                    <app-menu></app-menu>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- header end -->
